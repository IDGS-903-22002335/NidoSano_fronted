<div>
    <mat-toolbar style="padding:10px 50px;">
        <div class="mt-3 -ml-1">
            <a routerLink="{{ isLoggedIn() ? '/home' : '/' }}" matTooltip="Inicio"
                class="inline-flex items-center gap-1 ml-0 pl-0">
                <img src="/images/lgo.jpg" alt="Logo" class="w-12 h-auto rounded hover:opacity-90 -ml-1">
                <p class="text-sm font-medium text-gray-800">Modulap</p>
            </a>
        </div>
        <div class="w-full"></div>
        @if(isLoggedIn()){
        <div *ngIf="authService.getUserDetail() as userDetail">
            <div class="flex gap-5 items-center">
                <a mat-button routerLink="/Product_view" *ngIf="!userDetail?.roles.includes('Admin')">
                    Reseñas
                </a>
                <a *ngIf="userDetail?.roles.includes('Admin')" mat-button routerLink="/users">
                    Clientes
                </a>
                <a *ngIf="userDetail?.roles.includes('Admin')" mat-button routerLink="/users_Admin">
                    Administradores
                </a>
                <a *ngIf="userDetail?.roles.includes('Admin')" mat-button routerLink="/proveedores">
                    Proveedores
                </a>
                <a *ngIf="userDetail?.roles.includes('Admin')" mat-button routerLink="/compra">
                    Compra
                </a>
                <a *ngIf="userDetail?.roles.includes('Admin')" mat-button routerLink="/venta">
                    Venta
                </a>

                <a *ngIf="userDetail?.roles.includes('Admin')" mat-button routerLink="/Inventario_Materia_Prima">
                    Componentes
                </a>

                <a *ngIf="userDetail?.roles.includes('Admin')" mat-button routerLink="/costeo">
                    Costeo
                </a>
                <a *ngIf="userDetail?.roles.includes('Admin')" mat-button routerLink="/producción">
                    Producción
                </a>

                <a *ngIf="userDetail?.roles.includes('Admin')" mat-button routerLink="/message">
                    Mensajes
                </a>

                <a *ngIf="userDetail?.roles.includes('Cliente')" mat-button routerLink="/compra_cliente">
                    Compras
                </a>
                <a *ngIf="userDetail?.roles.includes('Cliente')" mat-button routerLink="/estimateCliente">
                    Cotización
                </a>
                <a [matMenuTriggerFor]="menu" class="flex gap-2 cursor-pointer items-center">
                    <div
                        class="bg-red-400 text-white font-bold shadow-md rounded-full w-5 h-5 p-5 flex justify-center items-center">
                        {{userDetail!.fullName[0].toUpperCase()}}
                    </div>
                    <div class="text-black flex flex-col">
                        <h1 class="p-0 m-0 font-medium">
                            {{userDetail?.fullName}}
                        </h1>
                        <p class="p-0 m-0 font-medium text-xs">
                            {{userDetail?.roles }}
                        </p>

                    </div>
                </a>
                <mat-menu #menu="matMenu">
                    <button [routerLink]="['account',1]" mat-menu-item>
                        <mat-icon>account_circle</mat-icon>
                        <span>
                            Ver perfil
                        </span>
                    </button>
                    <button (click)="logout()" mat-menu-item>
                        <mat-icon>
                            logout
                        </mat-icon>
                        <span>Cerrar sesión</span>
                    </button>
                    <button [routerLink]="['change-password']" mat-menu-item>
                        <mat-icon>
                            password
                        </mat-icon>
                        <span>Cambiar contraseña</span>
                    </button>
                </mat-menu>
            </div>
        </div>
        }@else{
        <div>
            <div class="flex gap-5 items-center">
                <a mat-button routerLink="/nidosano">
                    NidoSano
                </a>
                <a mat-button routerLink="/about_us">
                    Sobre Modulap
                </a>
                <a mat-button routerLink="/Product_view">
                    Reseñas
                </a>
                <a mat-button routerLink="/estimate">
                    Cotización
                </a>
                <a mat-button routerLink="/login">
                    Inicia sesión
                </a>
            </div>
        </div>
        }
    </mat-toolbar>
</div>